\documentclass{ctexart}

\usepackage{geometry}
\geometry{
    papersize={480mm,270mm},
    left=0mm,
    right=0mm,
    top=10mm,
    bottom=0mm,
}

\usepackage{graphics}
\usepackage{fontspec}
\usepackage{hyperref}
% \setmainfont{Source Han Serif SC Bold}
\setCJKmainfont{SourceHanSerifSC-Bold}
% \setmainfont{TH-Tshyn-P1}
% \setCJKmainfont{TH-Tshyn-P0}
\newfontfamily{\yuhao}{YuhaoSongti.ttf}

\newcommand{\sizeone}{\fontsize{20pt}{20pt}\selectfont}       % 四号, 1.0倍行距
\newcommand{\sizetwo}{\fontsize{15pt}{16pt}\selectfont}       % 四号, 1.0倍行距
\newcommand{\sizethree}{\fontsize{12pt}{14pt}\selectfont}      % 小四, 1.0倍行距
\newcommand{\sizefour}{\fontsize{11pt}{11pt}\selectfont}   % 五号, 1.0倍行距
\newcommand{\sizefive}{\fontsize{9pt}{9pt}\selectfont}        % 小五, 1.0倍行距

\usepackage[usenames,dvipsnames,svgnames,table]{xcolor}
\definecolor{xmgray}{rgb}{0.90,0.90,0.90}
\definecolor{xmred}{rgb}{0.96,0.90,0.90}
\definecolor{xmgreen}{rgb}{0.90,0.96,0.90}
\definecolor{xmblue}{rgb}{0.90,0.90,0.96}
\definecolor{xmyellow}{rgb}{0.96,0.96,0.90}
\definecolor{xmpurple}{rgb}{0.96,0.90,0.96}
\definecolor{codegray}{rgb}{0.55,0.55,0.55}

\usepackage{tabularray}
\DefTblrTemplate{caption-tag}{default}{}
\DefTblrTemplate{caption-sep}{default}{}
\DefTblrTemplate{caption-text}{default}{\InsertTblrText{caption}}

\usepackage{xparse}
\usepackage{expl3}

\ExplSyntaxOn
\seq_new:N \l_fugen_seq
\tl_new:N \l_bianma_tl

\NewDocumentCommand {\yuhaoalone} {m} {
    {
        \yuhao\symbol{"#1}
    }
}

\NewDocumentCommand {\yuhaosym} { m m o O{blue} } {
    {
        \yuhao\sizetwo\symbol{"#1}
    }
    \hspace{-0.1em}
    {
        \tl_if_empty:nTF {#2} {} {
            \seq_set_split:Nnn \l_fugen_seq { , } { #2 }
            \yuhao\sizethree
            \seq_map_variable:NNn \l_fugen_seq \i {
                \use:n  {\hspace{0.0em}\color{black}{\symbol{"\i}}}
            }
        }
    }
    {
        \seq_clear:N \l_fugen_seq
        \IfNoValueTF{#3}{}{
            \tl_set:Nn {\l_bianma_tl} {#3}
            \normalfont\sizethree
            \tl_item:Nn \l_bianma_tl 1
            \use:n {\color{#4}{\tl_item:Nn \l_bianma_tl 2}}
            
        }
        \tl_clear:N \l_bianma_tl
    }
    \hspace{-0.2em}
}

\NewDocumentCommand {\yuhaochar} { m m o O{blue} } {
    {
        \yuhao\sizetwo{#1}
    }
    {
        \tl_if_empty:nTF {#2} {} {
            \seq_set_split:Nnn \l_fugen_seq { , } { #2 }
            \yuhao\sizethree
            \seq_map_variable:NNn \l_fugen_seq \i {
                \use:n  {\hspace{0.0em}\color{black}{\i}}
            }
        }
    }
    {
        \seq_clear:N \l_fugen_seq
        \IfNoValueTF{#3}{}{
            \tl_set:Nn {\l_bianma_tl} {#3}
            \normalfont\sizethree
            \tl_item:Nn \l_bianma_tl 1
            \use:n {\color{#4}{\tl_item:Nn \l_bianma_tl 2}}
            
        }
        \tl_clear:N \l_bianma_tl
    }
    \hspace{-0.2em}
}

\NewDocumentCommand {\yuhaocharsym} { m m m o O{blue} } {
    {
        \yuhao\sizetwo{#1}
    }
    {
        \tl_if_empty:nTF {#2} {} {
            \seq_set_split:Nnn \l_fugen_seq { , } { #2 }
            \yuhao\sizethree
            \seq_map_variable:NNn \l_fugen_seq \i {
                \use:n  {\hspace{0.0em}\color{black}{\i}}
            }
        }
    }
    {
        \tl_if_empty:nTF {#3} {} {
            \seq_set_split:Nnn \l_fugen_seq { , } { #3 }
            \yuhao\sizethree
            \seq_map_variable:NNn \l_fugen_seq \i {
                \use:n  {\hspace{0.0em}\color{black}{\symbol{"\i}}}
            }
        }
    }
    {
        \seq_clear:N \l_fugen_seq
        \IfNoValueTF{#4}{}{
            \tl_set:Nn {\l_bianma_tl} {#4}
            \normalfont\sizethree
            \tl_item:Nn \l_bianma_tl 1
            \use:n {\color{#5}{\tl_item:Nn \l_bianma_tl 2}}
            
        }
        \tl_clear:N \l_bianma_tl
    }
    \hspace{-0.2em}
}

\ExplSyntaxOff

\begin{document}
    \pagestyle{empty}
    \centering
    {
        \fontsize{32pt}{32pt}\selectfont 宇浩输入法　繁简通用字根键位图\\[0.5cm]
    }
    {
        \fontsize{20pt}{20pt}\selectfont 各键位上字根按照频率降序排列，繁体字根在简化字根后\\
        代表字根右侧为附属字根、次要字根、近似字根\\
        一级简码字位于键位右上方 \\
            [0.5cm]
    }
    \begin{tblr}{
        vlines,
        % colspec        = {clclclclclclclclclc},
        column{1, 3, 5, 7, 9, 11, 13, 15, 17, 19}   = {m, wd= 111pt},
        column{2, 4, 6, 8, 10, 12, 14, 16, 18}   = {m, wd= 0pt},
        row{1}         = {2em, abovesep=5pt,belowsep=0pt},
        row{2}       = {2em, abovesep=0pt,belowsep=0pt},
        row{3}      = {2em, abovesep=0pt,belowsep=0pt},
        row{4}     = {2em, abovesep=0pt,belowsep=2pt},
        % cell{1-4}{} = {bg=xmred},
        % cell{1-4}{5, 15} = {bg=xmgreen},
        % cell{1-4}{17} = {bg=xmblue},
        cell{1-4}{1, 3, 5, 7 , 9, 11} = {bg=xmyellow},
        cell{1-4}{13, 15, 17, 19} = {bg=xmpurple},
    }
    \cline{1, 3, 5, 7, 9, 11, 13, 15, 17, 19}
    
    \centering \sizeone Q　　　我 & & 
    \centering \sizeone W　　　然 & & 
    \centering \sizeone E　　　的 & & 
    \centering \sizeone R　　　得 & &
    \centering \sizeone T　　　个 & & 
    \centering \sizeone Y　　　心 & & 
    \centering \sizeone U　　　着 & & 
    \centering \sizeone I　　　没 & & 
    \centering \sizeone O　　　为 & & 
    \centering \sizeone P　　　这 \\

    \centering\yuhaocharsym{竹}{}{E201,E202,E203}[Qv]   & & 
    \centering\yuhaocharsym{月}{}{E2C1,E2C2,E2C3,E2C4}[Wv]  & & 
    \centering\yuhaochar{亻}{}[Ev]   & & 
    \centering\yuhaochar{犭}{}[Rv]   & & 
    \centering\yuhaochar{钅}{}[Tv]   & & 
    \centering\yuhaocharsym{心}{}{E301}[Yv]   & & 
    \centering\yuhaochar{火}{}[Uv]   & & 
    \centering\yuhaocharsym{氵}{}{E101}[Iv]   & & 
    \centering\yuhaochar{宀}{亠}[Ov]   & & 
    \centering\yuhaochar{疒}{}[Pv]  \\

    \centering\yuhaochar{丿}{}[Qp] \yuhaocharsym{儿}{}{E209}[Qr] \par \yuhaochar{殳}{}[Qh] \yuhaochar{矢}{}[Qi] \yuhaochar{鱼}{}[Qy] \yuhaochar{几}{}[Qj] \yuhaochar{舟}{}[Qo] \yuhaochar{瓜}{}[Qu] \yuhaochar{川}{}[Qc] \yuhaochar{凡}{}[Qn] \yuhaochar{气}{}[Qq] & & 
    \centering \yuhaochar{生}{}[Wg] \yuhaochar{身}{}[We] \par \yuhaochar{乂}{}[Wa] \yuhaochar{隹}{}[Wi] \par \yuhaocharsym{牛}{}{E2CE,E2CF}[Wn] \yuhaosym{E2D2}{E2D3}[Wy] \yuhaochar{千}{}[Wq] \yuhaocharsym{鬼}{}{E2D9}[Wu] \par \yuhaochar{缶}{}[Wo] \yuhaochar{金}{}[Wj] & & 
    \centering \yuhaochar{白}{}[Eb] \yuhaocharsym{斤}{}{E084}[Ej] \par \yuhaocharsym{夂}{}{E082}[Eh] \yuhaochar{夭}{}[Eo] \par  \yuhaocharsym{爪}{}{E087}[Ek] \yuhaochar{欠}{}[Ei] \yuhaochar{壬}{}[Ee] \yuhaochar{乌}{}[Ew]   & & 
    \centering \yuhaochar{彳}{}[Rc] \yuhaochar{禾}{}[Rh] \yuhaochar{匕}{}[Ri] \yuhaochar{夕}{}[Rk] \yuhaochar{舌}{}[Re] \par \yuhaocharsym{臼}{}{E229}[Rj] \yuhaochar{饣}{}[Rs] \par \yuhaocharsym{毛}{}{}[Rm] \yuhaochar{入}{}[Ru] \par \yuhaocharsym{向}{}{E22F,E230}[Rg] \yuhaosym{E236}{}[Ri]  & & 
    \centering \yuhaochar{人}{}[Te] \yuhaochar{自}{}[Tk] \par \yuhaocharsym{手}{}{E278}[Tu] \yuhaocharsym{八}{}{E264}[Tb] \par \yuhaocharsym{彡}{}{E268,E269}[Ti] \yuhaochar{用}{}[Tn] \par \yuhaochar{长}{}[Th] \yuhaochar{片}{}[Tp] \par \yuhaocharsym{卯}{}{E26C,E26D,E26E,E26F,E270}[Ta]   & & 
    \centering \yuhaocharsym{冖}{}{E306,E307}[Ym] \yuhaocharsym{鸟}{}{E30B}[Ya] \yuhaochar{九}{}[Yj] \yuhaochar{合}{}[Ye] \yuhaochar{豸}{}[Yi] \yuhaochar{食}{}[Ys] \yuhaochar{𠂤}{}[Yd] & & 
    \centering \yuhaocharsym{灬}{}{E283,E284,E285,E286}[Uh] \yuhaochar{言}{}[Ua] \yuhaochar{广}{}[Uu] \yuhaochar{礻}{}[Us] \yuhaochar{羊}{}[Ug] \yuhaocharsym{亡}{}{E291}[Uw] & & 
    \centering\yuhaochar{立}{}[Ii] \yuhaocharsym{鹿}{}{E107}[Il]  & & 
    \centering\yuhaocharsym{丶}{}{E1C3}[Od] \yuhaochar{讠}{}[Oa] \par \yuhaochar{之}{}[Ok] \yuhaocharsym{户}{戶,戸}{}[Oh] \par \yuhaochar{方}{}[Og] \yuhaochar{辛}{}[Ox] \par \yuhaochar{亥}{}[Oi] \yuhaochar{〇}{}[Oo] & & 
    \centering \yuhaochar{文}{}[Pe] \yuhaochar{辶}{}[Po] \yuhaochar{米}{}[Pm] \yuhaochar{门}{}[Pn] \yuhaochar{衤}{}[Py] \yuhaochar{穴}{}[Pu] \yuhaocharsym{高}{}{E1F5,E1F6}[Pg] \yuhaochar{亦}{}[Pi] \par \yuhaochar{麻}{}[Pa]  \\

    \centering &&
    \centering &&
    \centering &&
    \centering \yuhaocharsym{鳥}{}{E23A}[Ro] \yuhaochar{僉}{}[Rl] \yuhaochar{風}{}[Rf] &&
    \centering \yuhaochar{魚}{}[Ty]&&
    \centering \yuhaocharsym{烏}{}{E318}[Yw] \yuhaosym{E31A}{}[Yw]
    \\

    \cline{1, 3, 5, 7, 9, 11, 13, 15, 17, 19}
    \end{tblr}

    \vspace{5mm}

    \begin{tblr}{
        vlines,
        column{1, 3, 5, 7, 9, 11, 13, 15, 17}   = {m, wd= 111pt},
        column{2, 4, 6, 8, 10, 12, 14, 16}   = {m, wd= 0pt},
        row{1}         = {2em, abovesep=5pt,belowsep=0pt},
        row{2}       = {2em, abovesep=0pt,belowsep=0pt},
        row{3}      = {2em, abovesep=0pt,belowsep=0pt},
        row{4}     = {2em, abovesep=0pt,belowsep=2pt},
        % cell{1-4}{1, 5} = {bg=xmred},
        cell{1-4}{1, 3, 5, 7, 9, 11} = {bg=xmgreen},
        cell{1-4}{13, 15, 17} = {bg=xmblue},
        % cell{1-4}{3} = {bg=xmyellow},
        % cell{1-4}{} = {bg=xmpurple},
    }
    \cline{1, 3, 5, 7, 9, 11, 13, 15, 17}

    \centering \sizeone A　　　把 & & 
    \centering \sizeone S　　　有 & & 
    \centering \sizeone D　　　不 & & 
    \centering \sizeone F　　　一 & & 
    \centering \sizeone G　　　大 & & 
    \centering \sizeone H　　　地 & & 
    \centering \sizeone J　　　是 & & 
    \centering \sizeone K　　　上 & & 
    \centering \sizeone L　　　中 \\

    \centering \yuhaocharsym{扌}{}{E001,E002}[Av]   & & 
    \centering \yuhaocharsym{艹}{}{E241,E242,E243,E244,E245}[Sv]   & & 
    \centering \yuhaochar{石}{丆}[Dv]   & & 
    \centering\yuhaochar{木}{朩}[Fv]   & & 
    \centering\yuhaochar{王}{}[Gv]   & & 
    \centering\yuhaochar{土}{耂}[Hv]   & & 
    \centering\yuhaochar{日}{}[Jv]   & & 
    \centering\yuhaochar{虫}{}[Kv]   & & 
    \centering\yuhaocharsym{口}{}{E161}[Lv] \\
    
    % A
    \centering \yuhaocharsym{下}{}{E00F}[Ak] \yuhaochar{寸}{}[Ac] \par \yuhaocharsym{七}{}{E005,E006}[Ai] \yuhaochar{丁}{}[An] \par \yuhaochar{耳}{}[Ar] \yuhaochar{丌}{}[Aj] \yuhaosym{E011}{}[Au] \yuhaochar{亍}{}[Ah] \yuhaochar{瓦}{}[Aw]  &&
 
    % S
    \centering \yuhaosym{E250}{}[Su] \yuhaocharsym{二}{}{E24B,E24C,E24D}[Sr] \par \yuhaochar{犬}{}[Sa] \yuhaochar{厂}{}[Sh]\yuhaocharsym{丂}{}{E253,E254}[Sk] \yuhaochar{而}{}[Sj] \yuhaochar{辰}{}[Sn] \yuhaochar{臣}{}[Sc] &&

    %D    
    \centering \yuhaochar{不}{}[Du] \yuhaochar{尤}{E06E}[Do] \yuhaochar{西}{}[Di] \yuhaochar{走}{}[Dk] \yuhaochar{十}{}[Dh] \par \yuhaocharsym{豕}{}{E068}[Ds] \yuhaochar{戊}{}[Dw] \par \yuhaochar{古}{}[Dg] \yuhaochar{雨}{}[Dy] \yuhaochar{丰}{}[Dn] \yuhaochar{歹}{}[Dd] \yuhaochar{其}{}[Dq]  &&
    
    %F
    \centering \yuhaochar{一}{}[Fi] \yuhaochar{工}{}[Fo] \yuhaochar{甫}{}[Fu] \yuhaochar{三}{}[Fn]  &&

    %G
    \centering \yuhaochar{戈}{}[Gg] \yuhaochar{大}{}[Gd] \yuhaochar{面}{}[Gi] \yuhaocharsym{匚}{}{E0C4}[Gf] \yuhaochar{酉}{}[Go] \par \yuhaochar{夫}{}[Gu] \yuhaochar{革}{}[Ge] \yuhaosym{E0CB}{}[Gn] \yuhaochar{弋}{}[Gy]  &&

    %H
    \centering \yuhaochar{至}{}[Hk] \yuhaosym{E0EF}{}[Hn] \par \yuhaocharsym{士}{}{E0E4}[Hh] \yuhaochar{车}{}[Hc] \par \yuhaochar{示}{}[Hs] \yuhaochar{未}{}[He] \yuhaochar{兀}{}[Hw] \yuhaochar{干}{}[Hg] \yuhaochar{世}{}[Hi] \yuhaochar{牙}{}[Hy] \yuhaochar{末}{}[Ho] &&
    
    %J
    \centering \yuhaochar{田}{}[Jt] \yuhaochar{山}{}[Js] \yuhaochar{早}{}[Jo] \par \yuhaochar{曰}{}[Je]  &&
    
   %K
   \centering \yuhaocharsym{上}{}{E153,E154}[Ks] \yuhaochar{甲}{}[Ka] \par \yuhaochar{见}{}[Kx] \yuhaochar{贝}{}[Kb] \yuhaochar{由}{}[Ko] \par \yuhaocharsym{冂}{}{E146,E147}[Kg] \yuhaocharsym{电}{}{E150}[Kd] \yuhaochar{申}{}[Ke] \yuhaochar{禺}{}[Ky] \yuhaochar{攴}{}[Ku] \yuhaocharsym{水}{}{E149,E14A}[Kh] &&
    
    %L
    \centering \yuhaochar{非}{}[Li] \yuhaochar{㗊}{}[Lj]  \\

    \centering &&
    \centering  &&
    \centering \yuhaocharsym{馬}{}{E079}[Dm] \yuhaochar{來}{}[Dl] &&
    \centering \yuhaochar{爾}{}[Fe]&&
    \centering \yuhaocharsym{車}{}{E0CF}[Gj]&&
    \centering \yuhaochar{長}{镸髟}[Ha]&&
    \centering \yuhaocharsym{黽}{}{E12D}[Jm] \yuhaosym{E12B}{E12A}[Ja]&&
    \centering \yuhaochar{門}{}[Kn] \yuhaochar{鹵}{}[Kl] &&
    \centering 
    \\
    
    \cline{1, 3, 5, 7, 9, 11, 13, 15, 17}
    \end{tblr}

    \vspace{5mm}

    \begin{tblr}{
        vlines,
        column{1, 3, 5, 7, 9, 11, 13, 15, 17, 19}   = {m, wd= 111pt},
        column{2, 4, 6, 8, 10, 12, 14, 16, 18}   = {m, wd= 0pt},
        row{1}         = {2em, abovesep=5pt,belowsep=0pt},
        row{2}       = {2em, abovesep=0pt,belowsep=0pt},
        row{3}      = {2em, abovesep=0pt,belowsep=0pt},
        row{4}     = {2em, abovesep=0pt,belowsep=2pt},
        cell{1-4}{1} = {bg=xmgray},
        cell{1-4}{3, 5, 7, 9} = {bg=xmred},
        % cell{1-4}{} = {bg=xmgreen},
        cell{1-4}{11, 13} = {bg=xmblue},
        % cell{1-4}{7} = {bg=xmyellow},
        % cell{1-4}{1, 3} = {bg=xmpurple},
    }
    \cline{1, 3, 5, 7, 9, 11, 13, 15}

    \centering \sizeone Z　　　 & & 
    \centering \sizeone X　　　以 & & 
    \centering \sizeone C　　　好  & & 
    \centering \sizeone V　　　了 & & 
    \centering \sizeone B　　　那 & & 
    \centering \sizeone N　　　回 & & 
    \centering \sizeone M　　　小 \\

       & & 
    \centering\yuhaochar{彐}{}[Xv]   & & 
    \centering\yuhaochar{女}{}[Cv]   & & 
    \centering\yuhaochar{厶}{}[Vv]   & & 
    \centering\yuhaocharsym{糸}{}{E021}[Bv]   & & 
    \centering\yuhaocharsym{足}{}{E1A1}[Nv]   & & 
    \centering\yuhaochar{目}{}[Mv] \\

    \centering\sizethree 通配符/反查引导/重复上屏 & & 
    \centering \yuhaochar{凵}{丩屮}[Xc] \yuhaochar{力}{}[Xl] \par \yuhaocharsym{乚}{}{E2F5,E2F6,E2F7}[Xi] \yuhaochar{马}{}[Xm] \par \yuhaochar{羽}{习}[Xu] \yuhaocharsym{巳}{}{E2EE}[Xs] \par \yuhaochar{卩}{}[Xj] \yuhaochar{廴}{}[Xn] \yuhaochar{矛}{}[Xo] \yuhaochar{爿}{}[Xg] & & 
    \centering \yuhaochar{也}{}[Cy] \yuhaochar{阝}{}[Cf] \yuhaochar{巴}{}[Ca] \yuhaochar{幺}{}[Co] \yuhaocharsym{韋}{}{E045}[Ci] \par \yuhaochar{予}{}[Cu] & & 
    \centering \yuhaochar{了}{}[Vl] \yuhaocharsym{纟}{}{E2A3}[Vs] \yuhaochar{已}{}[Vy] \yuhaocharsym{乙}{乜}{E2B4,E2B5,E2B6,E2B7}[Vi] \par \yuhaochar{弓}{}[Vo] \yuhaochar{艮}{}[Vn] \par \yuhaocharsym{乃}{}{E2AA}[Va] \yuhaochar{皮}{}[Vp] \par \yuhaocharsym{巛}{}{E2AD}[Vh]   & & 
    \centering \yuhaochar{刀}{}[Bd] \yuhaochar{子}{}[Bi] \yuhaocharsym{丑}{}{}[Bc] \par \yuhaocharsym{又}{}{E023,E024,E025,E026}[Bu] \par \yuhaocharsym{己}{}{E033}[Bj] \yuhaocharsym{尸}{}{E02A}[Bh] \par \yuhaocharsym{母}{}{E02F,E030}[Bm] \yuhaosym{E035}{}[Bu] & & 
    \centering \yuhaosym{E1A5}{}[Nh] \yuhaochar{止}{}[Ni] \par \yuhaocharsym{尚}{}{E1A7,E1A8,E1AA,E1AB,E1AC,E1AD}[Ns] \par \yuhaochar{囗}{}[Nw] \yuhaochar{黑}{}[Ne] \yuhaochar{冊}{}[Nc]  & & 
    \centering\yuhaocharsym{小}{}{E183,E184}[Ma] \yuhaochar{刂}{}[Md] \par \yuhaocharsym{卜}{}{E189,E18A,E18B}[Mo] \yuhaocharsym{且}{}{E192}[Mq] \yuhaochar{巾}{}[Mj] \yuhaochar{罒}{}[Mw] \yuhaochar{皿}{}[Mn] \par \yuhaocharsym{虎}{}{E199,E19A}[Mh] \yuhaochar{骨}{}[Mg] \\

    \centering &&
    \centering &&
    \centering &&
    \centering &&
    \centering \yuhaochar{飛}{}[Be]&&
    \centering \yuhaochar{咼}{冎}[Na] \yuhaochar{鬥}{}[Nd] &&
    \centering \yuhaochar{貝}{}[Mb] \yuhaochar{見}{}[Mx] \yuhaochar{齒}{}[Mc]\\

    \cline{1, 3, 5, 7, 9, 11, 13, 15}
    \end{tblr}

    \vspace{5mm}

    % {
        \fontsize{16pt}{16pt} \selectfont 
    宇浩输入法维护委员会 2023年4月3日 \\
    QQ讨论群：761401688
    % }

\end{document}