\documentclass{ctexart}

\usepackage{geometry}
\geometry{
    papersize={480mm,270mm},
    left=0mm,
    right=0mm,
    top=10mm,
    bottom=0mm,
}

\usepackage{graphics}
\usepackage{fontspec}
\usepackage{hyperref}
% \setmainfont{Source Han Serif SC Medium}
\setCJKmainfont{KaiTi}
% \setmainfont{TH-Tshyn-P1}
% \setCJKmainfont{TH-Tshyn-P0}
\newfontfamily{\yuhao}{yuhao-kai.ttf}

\newcommand{\sizeone}{\fontsize{20pt}{20pt}\selectfont}       % 四号, 1.0倍行距
\newcommand{\sizetwo}{\fontsize{16pt}{16pt}\selectfont}       % 四号, 1.0倍行距
\newcommand{\sizethree}{\fontsize{14pt}{14pt}\selectfont}      % 小四, 1.0倍行距
\newcommand{\sizefour}{\fontsize{11pt}{11pt}\selectfont}   % 五号, 1.0倍行距
\newcommand{\sizefive}{\fontsize{9pt}{9pt}\selectfont}        % 小五, 1.0倍行距

\usepackage[usenames,dvipsnames,svgnames,table]{xcolor}
\definecolor{xmgray}{rgb}{0.90,0.90,0.90}
\definecolor{xmred}{rgb}{0.96,0.90,0.90}
\definecolor{xmgreen}{rgb}{0.90,0.96,0.90}
\definecolor{xmblue}{rgb}{0.90,0.90,0.96}
\definecolor{xmyellow}{rgb}{0.96,0.96,0.90}
\definecolor{xmpurple}{rgb}{0.96,0.90,0.96}
\definecolor{codegray}{rgb}{0.55,0.55,0.55}

\usepackage{tabularray}
\DefTblrTemplate{caption-tag}{default}{}
\DefTblrTemplate{caption-sep}{default}{}
\DefTblrTemplate{caption-text}{default}{\InsertTblrText{caption}}

\usepackage{xparse}
\usepackage{expl3}

\ExplSyntaxOn
\seq_new:N \l_fugen_seq
\tl_new:N \l_bianma_tl

\NewDocumentCommand {\yuhaoalone} {m} {
    {
        \yuhao\symbol{"#1}
    }
}

\NewDocumentCommand {\yuhaosym} { m m o O{blue} } {
    {
        \yuhao\sizetwo\symbol{"#1}
    }
    \hspace{-0.1em}
    {
        \tl_if_empty:nTF {#2} {} {
            \seq_set_split:Nnn \l_fugen_seq { , } { #2 }
            \yuhao\sizethree
            \seq_map_variable:NNn \l_fugen_seq \i {
                \use:n  {\hspace{-0.2em}\color{black}{\symbol{"\i}}}
            }
        }
    }
    {
        \seq_clear:N \l_fugen_seq
        \IfNoValueTF{#3}{}{
            \tl_set:Nn {\l_bianma_tl} {#3}
            \normalfont\sizethree
            \tl_item:Nn \l_bianma_tl 1
            \use:n {\color{#4}{\tl_item:Nn \l_bianma_tl 2}}
            
        }
        \tl_clear:N \l_bianma_tl
    }
    \hspace{0.0em}
}

\NewDocumentCommand {\yuhaochar} { m m o O{blue} } {
    {
        \yuhao\sizetwo{#1}
    }
    {
        \tl_if_empty:nTF {#2} {} {
            \seq_set_split:Nnn \l_fugen_seq { , } { #2 }
            \yuhao\sizethree
            \seq_map_variable:NNn \l_fugen_seq \i {
                \use:n  {\hspace{-0.2em}\color{black}{\i}}
            }
        }
    }
    {
        \seq_clear:N \l_fugen_seq
        \IfNoValueTF{#3}{}{
            \tl_set:Nn {\l_bianma_tl} {#3}
            \normalfont\sizethree
            \tl_item:Nn \l_bianma_tl 1
            \use:n {\color{#4}{\tl_item:Nn \l_bianma_tl 2}}
            
        }
        \tl_clear:N \l_bianma_tl
    }
    \hspace{0.0em}
}

\NewDocumentCommand {\yuhaocharsym} { m m m o O{blue} } {
    {
        \yuhao\sizetwo{#1}
    }
    {
        \tl_if_empty:nTF {#2} {} {
            \seq_set_split:Nnn \l_fugen_seq { , } { #2 }
            \yuhao\sizethree
            \seq_map_variable:NNn \l_fugen_seq \i {
                \use:n  {\hspace{-0.2em}\color{black}{\i}}
            }
        }
    }
    {
        \tl_if_empty:nTF {#3} {} {
            \seq_set_split:Nnn \l_fugen_seq { , } { #3 }
            \yuhao\sizethree
            \seq_map_variable:NNn \l_fugen_seq \i {
                \use:n  {\hspace{-0.2em}\color{black}{\symbol{"\i}}}
            }
        }
    }
    {
        \seq_clear:N \l_fugen_seq
        \IfNoValueTF{#4}{}{
            \tl_set:Nn {\l_bianma_tl} {#4}
            \normalfont\sizethree
            \tl_item:Nn \l_bianma_tl 1
            \use:n {\color{#5}{\tl_item:Nn \l_bianma_tl 2}}
            
        }
        \tl_clear:N \l_bianma_tl
    }
    \hspace{0.0em}
}

\ExplSyntaxOff

\begin{document}
    \pagestyle{empty}
    \centering
    {
        \fontsize{32pt}{32pt}\selectfont 宇浩繁简通用字形输入法·字根图\\[0.5cm]
    }
    {
        \fontsize{20pt}{20pt}\selectfont 各键位上字根按照频率降序排列，繁体字根在简化字根后；次要字根和近似字根在主要字根右侧。\\
            代表字根输入方式：大码 + 小码 + f；附属字根输入方式：大码 + 小码 + ff \\
            [0.5cm]
    }
    \begin{tblr}{
        vlines,
        % colspec        = {clclclclclclclclclc},
        column{1, 3, 5, 7, 9, 11, 13, 15, 17, 19}   = {m, wd= 111pt},
        column{2, 4, 6, 8, 10, 12, 14, 16, 18}   = {m, wd= 0pt},
        row{1}         = {2em, abovesep=5pt,belowsep=0pt},
        row{2}       = {2em, abovesep=0pt,belowsep=0pt},
        row{3}      = {2em, abovesep=0pt,belowsep=0pt},
        row{4}     = {2em, abovesep=0pt,belowsep=2pt},
        % cell{1-4}{} = {bg=xmred},
        % cell{1-4}{5, 15} = {bg=xmgreen},
        % cell{1-4}{17} = {bg=xmblue},
        cell{1-4}{1, 3, 5, 7 , 9, 11} = {bg=xmyellow},
        cell{1-4}{13, 15, 17, 19} = {bg=xmpurple},
    }
    \cline{1, 3, 5, 7, 9, 11, 13, 15, 17, 19}
    
    \centering \sizeone Q　　　我 & & 
    \centering \sizeone W　　　然 & & 
    \centering \sizeone E　　　的 & & 
    \centering \sizeone R　　　得 & &
    \centering \sizeone T　　　个 & & 
    \centering \sizeone Y　　　心 & & 
    \centering \sizeone U　　　着 & & 
    \centering \sizeone I　　　没 & & 
    \centering \sizeone O　　　就 & & 
    \centering \sizeone P　　　这 \\

    \centering\yuhaocharsym{竹}{}{EA0A,EA0B,EA0D}[Qv]   & & 
    \centering\yuhaocharsym{月}{勹}{EA42,EA3F,EA40}[Wv]  & & 
    \centering\yuhaochar{亻}{}[Ev]   & & 
    \centering\yuhaochar{犭}{}[Rv]   & & 
    \centering\yuhaochar{钅}{}[Tv]   & & 
    \centering\yuhaocharsym{心}{}{EA61}[Yv]   & & 
    \centering\yuhaochar{火}{}[Uv]   & & 
    \centering\yuhaocharsym{氵}{}{EAB4}[Iv]   & & 
    \centering\yuhaochar{宀}{亠}[Ov]   & & 
    \centering\yuhaochar{疒}{}[Pv]  \\

    \centering\yuhaochar{丿}{}[Qp] \yuhaocharsym{儿}{}{EA79}[Qr] \yuhaochar{鱼}{}[Qy] \yuhaochar{几}{}[Qj] \yuhaochar{矢}{}[Qi] \yuhaochar{舟}{}[Qo] \yuhaochar{殳}{}[Qh] \yuhaochar{瓜}{}[Qu] \yuhaochar{川}{}[Qc] \yuhaochar{凡}{}[Qn] \yuhaochar{气}{}[Qq] & & 
    \centering \yuhaochar{乂}{}[Wa] \yuhaochar{隹}{}[Wi] \yuhaocharsym{牛}{}{EA0E,EA11}[Wn] \yuhaosym{EA29}{EA2A}[Wy] \yuhaochar{千}{}[Wq] \yuhaocharsym{鬼}{}{EAD2}[Wu] \yuhaochar{缶}{}[Wo] \yuhaochar{生}{}[Wg] \yuhaochar{身}{}[We]  & & 
    \centering \yuhaochar{夂}{攵}[Eh] \yuhaocharsym{斤}{}{EA28}[Ej] \yuhaochar{白}{}[Eb] \yuhaocharsym{爪}{}{EA73}[Ek] \yuhaochar{欠}{}[Ei] \yuhaochar{壬}{}[Ee] \yuhaochar{夭}{}[Eo] \yuhaochar{乌}{}[Ew]   & & 
    \centering \yuhaochar{匕}{}[Ri] \yuhaochar{禾}{}[Rh] \yuhaochar{夕}{}[Rk] \yuhaocharsym{臼}{}{EA65}[Rj] \yuhaochar{彳}{}[Rc] \yuhaochar{饣}{}[Rs] \yuhaocharsym{毛}{}{}[Rm] \yuhaocharsym{向}{}{EA63,EA64}[Rg] \yuhaochar{舌}{}[Re] \yuhaochar{金}{}[Rn] \yuhaosym{EAD0}{}[Ri] \yuhaochar{入}{}[Ru] & & 
    \centering \yuhaochar{人}{}[Te] \yuhaocharsym{八}{}{EA54}[Tb] \yuhaocharsym{彡}{}{EA3D,EA41}[Ti] \yuhaocharsym{卯}{}{EAD7, EAD8,EAD9,EADA,EA76}[Ta] \yuhaochar{用}{}[Tn] \yuhaochar{自}{}[Tk] \yuhaocharsym{手}{}{EA32}[Tu] \yuhaochar{长}{}[Th] \yuhaochar{片}{}[Tp]   & & 
    \centering \yuhaocharsym{冖}{}{EA1A,EA1B}[Ym] \yuhaocharsym{鸟}{}{EA4D}[Ya] \yuhaochar{九}{}[Yj] \yuhaochar{合}{}[Ye] \yuhaochar{豸}{}[Yi] \yuhaochar{食}{}[Ys] \yuhaosym{EA6B}{}[Yi] & & 
    \centering \yuhaocharsym{灬}{丷䒑丬}{EA9C}[Uh] \yuhaochar{言}{}[Ua] \yuhaochar{广}{}[Uu] \yuhaochar{礻}{}[Us] \yuhaochar{羊}{}[Ug] \yuhaocharsym{亡}{}{EADB}[Uw] & & 
    \centering\yuhaochar{立}{}[Ii] \yuhaocharsym{鹿}{}{EA93}[Il]  & & 
    \centering\yuhaocharsym{丶}{}{EA8D}[Od] \yuhaochar{讠}{}[Oa] \yuhaochar{方}{}[Og] \yuhaocharsym{户}{戶,戸}{}[Oh] \yuhaochar{辛}{}[Ox] \yuhaochar{亥}{}[Oi] \yuhaochar{之}{}[Ok] \yuhaochar{〇}{}[Oo] & & 
    \centering \yuhaochar{辶}{}[Po] \yuhaochar{米}{}[Pm] \yuhaochar{门}{}[Pn] \yuhaochar{衤}{}[Py] \yuhaochar{穴}{}[Pu] \yuhaochar{文}{}[Pe] \yuhaocharsym{高}{}{EAD5,EAD4}[Pg] \yuhaochar{亦}{}[Pi] \yuhaochar{麻}{}[Pa]  \\

    \centering &&
    \centering &&
    \centering &&
    \centering \yuhaocharsym{鳥}{}{EA71}[Ro] \yuhaochar{僉}{}[Rl] \yuhaochar{風}{}[Rf] &&
    \centering \yuhaochar{魚}{}[Ty]&&
    \centering \yuhaocharsym{烏}{}{EA6E}[Yw] \yuhaosym{EA46}{}[Yw]
    \\

    \cline{1, 3, 5, 7, 9, 11, 13, 15, 17, 19}
    \end{tblr}

    \vspace{5mm}

    \begin{tblr}{
        vlines,
        column{1, 3, 5, 7, 9, 11, 13, 15, 17}   = {m, wd= 111pt},
        column{2, 4, 6, 8, 10, 12, 14, 16}   = {m, wd= 0pt},
        row{1}         = {2em, abovesep=5pt,belowsep=0pt},
        row{2}       = {2em, abovesep=0pt,belowsep=0pt},
        row{3}      = {2em, abovesep=0pt,belowsep=0pt},
        row{4}     = {2em, abovesep=0pt,belowsep=2pt},
        % cell{1-4}{1, 5} = {bg=xmred},
        cell{1-4}{1, 3, 5, 7, 9, 11} = {bg=xmgreen},
        cell{1-4}{13, 15, 17} = {bg=xmblue},
        % cell{1-4}{3} = {bg=xmyellow},
        % cell{1-4}{} = {bg=xmpurple},
    }
    \cline{1, 3, 5, 7, 9, 11, 13, 15, 17}

    \centering \sizeone A　　　过 & & 
    \centering \sizeone S　　　在 & & 
    \centering \sizeone D　　　不 & & 
    \centering \sizeone F　　　一 & & 
    \centering \sizeone G　　　大 & & 
    \centering \sizeone H　　　地 & & 
    \centering \sizeone J　　　是 & & 
    \centering \sizeone K　　　上 & & 
    \centering \sizeone L　　　中 \\

    \centering \yuhaocharsym{扌}{}{E971,E974}[Av]   & & 
    \centering \yuhaocharsym{艹}{卅,卌,廾}{E99E}[Sv]   & & 
    \centering \yuhaochar{石}{丆}[Dv]   & & 
    \centering\yuhaochar{木}{朩}[Fv]   & & 
    \centering\yuhaochar{王}{}[Gv]   & & 
    \centering\yuhaochar{土}{耂}[Hv]   & & 
    \centering\yuhaochar{日}{}[Jv]   & & 
    \centering\yuhaochar{虫}{}[Kv]   & & 
    \centering\yuhaochar{口}{}[Lv] \\
    
    % A
    \centering \yuhaochar{寸}{}[Ac] \yuhaocharsym{七}{}{E97A,E97B}[Ai] \yuhaochar{丁}{}[An] \yuhaochar{耳}{}[Ar] \yuhaochar{丌}{}[Aj] \yuhaosym{E9AB}{}[Au] \yuhaochar{亍}{}[Ah] \yuhaochar{瓦}{}[Aw] \yuhaochar{丅}{}[Ak]  &&
 
    % S
    \centering \yuhaocharsym{二}{}{EAA0,EA55,EAB3}[Sr] \yuhaosym{E9A0}{}[Su] \yuhaochar{厂}{}[Sh]\yuhaocharsym{丂}{}{EACB,EACC}[Sk] \yuhaochar{犬}{}[Sa] \yuhaochar{而}{}[Sj] \yuhaochar{辰}{}[Sn] \yuhaochar{臣}{}[Sc] &&

    %D    
    \centering \yuhaochar{十}{}[Dh] \yuhaochar{古}{}[Dg] \yuhaochar{雨}{}[Dy] \yuhaocharsym{豕}{}{EA2B}[Ds] \yuhaochar{丰}{}[Dn] \yuhaochar{西}{}[Di] \yuhaochar{尤}{尢}[Do] \yuhaochar{歹}{}[Dd] \yuhaochar{其}{}[Dq] \yuhaochar{戊}{}[Dw] \yuhaochar{不}{}[Du] \yuhaochar{走}{}[Dk] &&
    
    %F
    \centering \yuhaochar{一}{}[Fi] \yuhaochar{工}{}[Fo] \yuhaochar{甫}{}[Fu] \yuhaochar{三}{}[Fn]  &&

    %G
    \centering \yuhaochar{大}{}[Gd] \yuhaochar{匚}{}[Gf] \yuhaochar{酉}{}[Go] \yuhaochar{戈}{}[Gg] \yuhaochar{夫}{}[Gu] \yuhaochar{革}{}[Ge] \yuhaosym{EABF}{}[Gn] \yuhaochar{弋}{}[Gy] \yuhaochar{面}{}[Gi] &&

    %H
    \centering \yuhaochar{车}{}[Hc] \yuhaochar{示}{}[Hs] \yuhaochar{士}{}[Hh] \yuhaochar{未}{}[He] \yuhaochar{兀}{}[Hw] \yuhaosym{E960}{}[Hn] \yuhaochar{干}{}[Hg] \yuhaochar{至}{}[Hk] \yuhaochar{世}{}[Hi] \yuhaochar{牙}{}[Hy] \yuhaochar{末}{}[Ho] &&
    
    %J
    \centering \yuhaochar{田}{}[Ji] \yuhaochar{山}{}[Ja] \yuhaochar{早}{}[Jo] \yuhaochar{曰}{}[Je]  &&
    
   %K
   \centering \yuhaochar{贝}{}[Kb] \yuhaocharsym{冂}{}{E9EA}[Kg] \yuhaocharsym{水}{氺}{E916}[Kh] \yuhaochar{甲}{}[Ka] \yuhaochar{由}{}[Ko] \yuhaochar{见}{}[Kx] \yuhaocharsym{上}{丄}{EA02}[Ks] \yuhaocharsym{电}{}{E9CE}[Kd] \yuhaochar{申}{}[Ke] \yuhaochar{禺}{}[Ky] \yuhaochar{攴}{}[Ku] &&
    
    %L
    \centering \yuhaochar{非}{}[Li] \yuhaochar{㗊}{}[Lj]  \\

    \centering &&
    \centering \yuhaocharsym{馬}{}{E96B}[Sm] &&
    \centering \yuhaochar{來}{}[Dl] &&
    \centering \yuhaochar{爾}{}[Fe]&&
    \centering \yuhaocharsym{車}{}{EAC3}[Gj]&&
    \centering \yuhaochar{長}{镸髟}[Ha]&&
    \centering \yuhaocharsym{黽}{}{EA08}[Jm] \yuhaosym{E9F5}{EAD3}[Ja]&&
    \centering \yuhaochar{門}{}[Kn] \yuhaochar{鹵}{}[Kl] &&
    \centering 
    \\
    
    \cline{1, 3, 5, 7, 9, 11, 13, 15, 17}
    \end{tblr}

    \vspace{5mm}

    \begin{tblr}{
        vlines,
        column{1, 3, 5, 7, 9, 11, 13, 15, 17, 19}   = {m, wd= 111pt},
        column{2, 4, 6, 8, 10, 12, 14, 16, 18}   = {m, wd= 0pt},
        row{1}         = {2em, abovesep=5pt,belowsep=0pt},
        row{2}       = {2em, abovesep=0pt,belowsep=0pt},
        row{3}      = {2em, abovesep=0pt,belowsep=0pt},
        row{4}     = {2em, abovesep=0pt,belowsep=2pt},
        cell{1-4}{1} = {bg=xmgray},
        cell{1-4}{3, 5, 7, 9} = {bg=xmred},
        % cell{1-4}{} = {bg=xmgreen},
        cell{1-4}{11, 13} = {bg=xmblue},
        % cell{1-4}{7} = {bg=xmyellow},
        % cell{1-4}{1, 3} = {bg=xmpurple},
    }
    \cline{1, 3, 5, 7, 9, 11, 13, 15}

    \centering \sizeone Z　　　 & & 
    \centering \sizeone X　　　以 & & 
    \centering \sizeone C　　　也  & & 
    \centering \sizeone V　　　了 & & 
    \centering \sizeone B　　　那 & & 
    \centering \sizeone N　　　回 & & 
    \centering \sizeone M　　　小 \\

       & & 
    \centering\yuhaochar{彐}{}[Xv]   & & 
    \centering\yuhaochar{女}{}[Cv]   & & 
    \centering\yuhaochar{厶}{}[Vv]   & & 
    \centering\yuhaochar{糸}{}[Bv]   & & 
    \centering\yuhaocharsym{足}{}{EA05}[Nv]   & & 
    \centering\yuhaochar{目}{}[Mv] \\

    \centering\sizethree 特殊符号/反查 & & 
    \centering \yuhaochar{凵}{丩屮}[Xc] \yuhaochar{力}{}[Xl] \yuhaocharsym{乚}{}{E937,E939,E93A}[Xi] \yuhaochar{马}{}[Xm] \yuhaochar{羽}{习}[Xu] \yuhaocharsym{巳}{}{E95A}[Xs] \yuhaochar{卩}{}[Xj] \yuhaochar{廴}{}[Xn] \yuhaochar{矛}{}[Xo] \yuhaochar{爿}{}[Xg] & & 
    \centering \yuhaochar{阝}{}[Cf] \yuhaochar{幺}{}[Co] \yuhaochar{巴}{}[Ca] \yuhaocharsym{韋}{}{E94D}[Ci] \yuhaochar{予}{}[Cu] \yuhaochar{也}{}[Cy] & & 
    \centering \yuhaocharsym{乙}{乜}{E919,E91A,E91B,E91F}[Vi] \yuhaocharsym{纟}{}{E93C}[Vs] \yuhaochar{弓}{}[Vo] \yuhaochar{艮}{}[Vn] \yuhaocharsym{乃}{}{E912}[Va] \yuhaochar{皮}{}[Vp] \yuhaocharsym{巛}{}{E93B}[Vh] \yuhaochar{了}{}[Vl] \yuhaochar{已}{}[Vy]   & & 
    \centering \yuhaochar{又}{癶コスマ}[Bu] \yuhaocharsym{尸}{}{E94A}[Bh] \yuhaochar{刀}{}[Bd] \yuhaochar{子}{}[Bi] \yuhaocharsym{母}{}{E93D,E93E}[Bm] \yuhaocharsym{己}{}{E957}[Bj] \yuhaosym{EAD1}{}[Bu] & & 
    \centering \yuhaochar{囗}{}[Nw] \yuhaochar{止}{}[Ni] \yuhaosym{E9D4}{}[Nh] \yuhaocharsym{尚}{}{EAD6, E9C7, E9D6, E9D7, E9D8}[Ns] \yuhaochar{黑}{}[Ne] \yuhaochar{冊}{}[Nc]  & & 
    \centering\yuhaocharsym{小}{}{E9F1,E9F2}[Ma] \yuhaochar{刂}{}[Md] \yuhaocharsym{卜}{}{E9D2,E9D3,E9D5}[Mo] \yuhaochar{巾}{}[Mj] \yuhaochar{罒}{}[Mw] \yuhaochar{皿}{}[Mn] \yuhaocharsym{且}{}{E9F8}[Mq] \yuhaocharsym{虎}{}{E9DB,E9DC}[Mh] \yuhaochar{骨}{}[Mg] \\

    \centering &&
    \centering &&
    \centering &&
    \centering &&
    \centering \yuhaochar{飛}{}[Be]&&
    \centering \yuhaochar{咼}{冎}[Na] \yuhaochar{鬥}{}[Nd] &&
    \centering \yuhaochar{貝}{}[Mb] \yuhaochar{見}{}[Mx] \yuhaochar{齒}{}[Mc]\\

    \cline{1, 3, 5, 7, 9, 11, 13, 15}
    \end{tblr}

    \vspace{5mm}

    % {
        \fontsize{16pt}{16pt} \selectfont 
    forFudan 制作于2023年3月22日 \\
    QQ讨论群：761401688
    % }

\end{document}