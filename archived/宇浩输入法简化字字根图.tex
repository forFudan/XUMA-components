\documentclass{ctexart}

\usepackage{geometry}
\geometry{
    papersize={480mm,270mm},
    left=0mm,
    right=0mm,
    top=10mm,
    bottom=0mm,
}

\usepackage{graphics}
\usepackage{fontspec}
% \setmainfont{Source Han Serif SC Medium}
\setCJKmainfont{KaiTi}
% \setmainfont{TH-Tshyn-P1}
% \setCJKmainfont{TH-Tshyn-P0}
\newfontfamily{\yuhao}{yuhao-kai.ttf}

\newcommand{\sizeone}{\fontsize{20pt}{20pt}\selectfont}       % 四号, 1.0倍行距
\newcommand{\sizetwo}{\fontsize{18pt}{18pt}\selectfont}       % 四号, 1.0倍行距
\newcommand{\sizethree}{\fontsize{16pt}{14pt}\selectfont}      % 小四, 1.0倍行距
\newcommand{\sizefour}{\fontsize{11pt}{11pt}\selectfont}   % 五号, 1.0倍行距
\newcommand{\sizefive}{\fontsize{9pt}{9pt}\selectfont}        % 小五, 1.0倍行距

\usepackage[usenames,dvipsnames,svgnames,table]{xcolor}
\definecolor{xmgray}{rgb}{0.90,0.90,0.90}
\definecolor{xmred}{rgb}{0.96,0.90,0.90}
\definecolor{xmgreen}{rgb}{0.90,0.96,0.90}
\definecolor{xmblue}{rgb}{0.90,0.90,0.96}
\definecolor{xmyellow}{rgb}{0.96,0.96,0.90}
\definecolor{xmpurple}{rgb}{0.96,0.90,0.96}
\definecolor{codegray}{rgb}{0.55,0.55,0.55}

\usepackage{tabularray}
\DefTblrTemplate{caption-tag}{default}{}
\DefTblrTemplate{caption-sep}{default}{}
\DefTblrTemplate{caption-text}{default}{\InsertTblrText{caption}}

\usepackage{xparse}
\usepackage{expl3}

\ExplSyntaxOn
\seq_new:N \l_fugen_seq
\tl_new:N \l_bianma_tl

\NewDocumentCommand {\yuhaoalone} {m} {
    {
        \yuhao\symbol{"#1}
    }
}

\NewDocumentCommand {\yuhaosym} { m m o O{blue} } {
    {
        \yuhao\sizetwo\symbol{"#1}
    }
    \hspace{-0.1em}
    {
        \tl_if_empty:nTF {#2} {} {
            \seq_set_split:Nnn \l_fugen_seq { , } { #2 }
            \yuhao\sizethree
            \seq_map_variable:NNn \l_fugen_seq \i {
                \use:n  {\hspace{-0.1em}\color{black}{\symbol{"\i}}}
            }
        }
    }
    {
        \seq_clear:N \l_fugen_seq
        \IfNoValueTF{#3}{}{
            \tl_set:Nn {\l_bianma_tl} {#3}
            \normalfont\sizethree
            \tl_item:Nn \l_bianma_tl 1
            \use:n {\color{#4}{\tl_item:Nn \l_bianma_tl 2}}
            
        }
        \tl_clear:N \l_bianma_tl
    }
    \hspace{0.5em}
}

\NewDocumentCommand {\yuhaochar} { m m o O{blue} } {
    {
        \yuhao\sizetwo{#1}
    }
    {
        \tl_if_empty:nTF {#2} {} {
            \seq_set_split:Nnn \l_fugen_seq { , } { #2 }
            \yuhao\sizethree
            \seq_map_variable:NNn \l_fugen_seq \i {
                \use:n  {\hspace{-0.1em}\color{black}{\i}}
            }
        }
    }
    {
        \seq_clear:N \l_fugen_seq
        \IfNoValueTF{#3}{}{
            \tl_set:Nn {\l_bianma_tl} {#3}
            \normalfont\sizethree
            \tl_item:Nn \l_bianma_tl 1
            \use:n {\color{#4}{\tl_item:Nn \l_bianma_tl 2}}
            
        }
        \tl_clear:N \l_bianma_tl
    }
    \hspace{0.5em}
}

\NewDocumentCommand {\yuhaocharsym} { m m m o O{blue} } {
    {
        \yuhao\sizetwo{#1}
    }
    {
        \tl_if_empty:nTF {#2} {} {
            \seq_set_split:Nnn \l_fugen_seq { , } { #2 }
            \yuhao\sizethree
            \seq_map_variable:NNn \l_fugen_seq \i {
                \use:n  {\hspace{-0.1em}\color{black}{\i}}
            }
        }
    }
    {
        \tl_if_empty:nTF {#3} {} {
            \seq_set_split:Nnn \l_fugen_seq { , } { #3 }
            \yuhao\sizethree
            \seq_map_variable:NNn \l_fugen_seq \i {
                \use:n  {\hspace{-0.1em}\color{black}{\symbol{"\i}}}
            }
        }
    }
    {
        \seq_clear:N \l_fugen_seq
        \IfNoValueTF{#4}{}{
            \tl_set:Nn {\l_bianma_tl} {#4}
            \normalfont\sizethree
            \tl_item:Nn \l_bianma_tl 1
            \use:n {\color{#5}{\tl_item:Nn \l_bianma_tl 2}}
            
        }
        \tl_clear:N \l_bianma_tl
    }
    \hspace{-0.1em}
}

\ExplSyntaxOff

\begin{document}
    \pagestyle{empty}
    \centering
    {
        \fontsize{32pt}{32pt}\selectfont 宇浩繁简通用字形输入法·简化字字根图\\[0.5cm]
    }
    {
        \fontsize{24pt}{24pt}\selectfont 2023年3月17日制作\\[0.5cm]
    }
    {
        \fontsize{20pt}{20pt}\selectfont 只显示简化字的字根，次要根和近似根在主要字根右侧\\[0.5cm]
    }
    \begin{tblr}{
        vlines,
        % colspec        = {clclclclclclclclclc},
        column{1, 3, 5, 7, 9, 11, 13, 15, 17, 19}   = {m, wd= 111pt},
        column{2, 4, 6, 8, 10, 12, 14, 16, 18}   = {m, wd= 0pt},
        row{1}         = {2em, abovesep=5pt,belowsep=0pt},
        row{2}       = {3em, abovesep=0pt,belowsep=0pt},
        % row{3}      = {3em, abovesep=0pt,belowsep=0pt},
        row{3}     = {7em, abovesep=0pt,belowsep=2pt},
        % cell{1-4}{} = {bg=xmred},
        % cell{1-4}{5, 15} = {bg=xmgreen},
        % cell{1-4}{17} = {bg=xmblue},
        cell{1-3}{1, 3, 5, 7 , 9, 11} = {bg=xmyellow},
        cell{1-3}{13, 15, 17, 19} = {bg=xmpurple},
    }
    \cline{1, 3, 5, 7, 9, 11, 13, 15, 17, 19}
    
    \centering \sizeone Q　　　我 & & 
    \centering \sizeone W　　　然 & & 
    \centering \sizeone E　　　的 & & 
    \centering \sizeone R　　　得 & &
    \centering \sizeone T　　　个 & & 
    \centering \sizeone Y　　　心 & & 
    \centering \sizeone U　　　着 & & 
    \centering \sizeone I　　　没 & & 
    \centering \sizeone O　　　就 & & 
    \centering \sizeone P　　　这 \\

    \centering\yuhaocharsym{竹}{}{EA0A,EA0B,EA0D}[Qv]   & & 
    \centering\yuhaocharsym{月}{勹}{EA42,EA3E,EA40}[Wv]  & & 
    \centering\yuhaochar{亻}{}[Ev]   & & 
    \centering\yuhaochar{犭}{}[Rv]   & & 
    \centering\yuhaochar{片}{}[Tv]   & & 
    \centering\yuhaochar{心}{}[Yv]   & & 
    \centering\yuhaochar{言}{}[Uv]   & & 
    \centering\yuhaocharsym{氵}{}{EAB4}[Iv]   & & 
    \centering\yuhaochar{宀}{}[Ov]   & & 
    \centering\yuhaochar{疒}{}[Pv]  \\

    \centering\yuhaochar{几}{}[Qj] \yuhaochar{凡}{}[Qh] \yuhaochar{殳}{}[Qh] \yuhaochar{矢}{}[Qi] \yuhaochar{舟}{}[Qo] \yuhaochar{丿}{}[Qp] \yuhaocharsym{儿}{}{EA79}[Qr] \yuhaochar{川}{}[Qc] \yuhaochar{鱼}{}[Qy] & & 
    \centering\yuhaochar{身}{}[We] \yuhaochar{生}{}[Wg] \yuhaocharsym{牛}{}{EA0E,EA11}[Wn] \yuhaocharsym{鬼}{}{EAD2}[Wu]  \yuhaochar{隹}{}[Wi] \yuhaochar{乂}{}[Wa] \yuhaochar{缶}{}[Wo] \yuhaosym{EA29}{EA2A}[Wy] & & 
    \centering\yuhaochar{白}{}[Eb] \yuhaochar{夂}{攵}[Eh] \yuhaocharsym{斤}{}{EA28}[Ei] \yuhaocharsym{爪}{}{EA73}[Ek] \yuhaochar{壬}{}[En] \yuhaochar{夭}{}[Eo] \yuhaochar{欠}{}[Eq] \yuhaochar{乌}{}[Ew]   & & 
    \centering\yuhaochar{彳}{}[Rc] \yuhaocharsym{向}{}{EA63,EA64}[Rg] \yuhaochar{禾}{}[Rh] \yuhaosym{EAD0}{}[Ri] \yuhaochar{匕}{}[Ri] \yuhaochar{臼}{}[Rj] \yuhaochar{夕}{}[Rk] \yuhaochar{毛}{}[Rm] \yuhaochar{金}{}[Rn] \yuhaochar{饣}{}[Rs] \yuhaochar{入}{}[Ru]  & & 
    \centering\yuhaocharsym{卯}{}{EA76}[Ta] \yuhaocharsym{八}{}{EA54}[Tb] \yuhaochar{人}{}[Te] \yuhaocharsym{彡}{}{EA3D,EA41}[Ti] \yuhaochar{钅}{}[Tj] \yuhaochar{自}{}[Tk] \yuhaochar{千}{}[Tn] \yuhaochar{用}{}[To] \yuhaochar{气}{}[Tq] \yuhaocharsym{手}{}{EA32}[Tu] \yuhaochar{长}{}[Th]   & & 
    \centering\yuhaocharsym{鸟}{}{EA4D}[Ya] \yuhaochar{合}{}[Ye] \yuhaochar{豸}{}[Yi] \yuhaosym{EA6B}{}[Yi] \yuhaochar{九}{}[Yj] \yuhaocharsym{冖}{}{EA1A,EA1B}[Ym] \yuhaochar{食}{}[Ys]   & & 
    \centering\yuhaocharsym{丷}{䒑}{EA9C}[Ua] \yuhaochar{羊}{}[Ug]\yuhaochar{灬}{}[Ui]\yuhaochar{礻}{}[Uk]\yuhaochar{火}{}[Uo]\yuhaochar{丬}{}[Uq]\yuhaochar{广}{}[Uu]\yuhaochar{亡}{}[Uw]  & & 
    \centering\yuhaochar{立}{}[Ii]\yuhaocharsym{鹿}{}{EA93}[Il]  & & 
    \centering\yuhaochar{讠}{}[Oa] \yuhaocharsym{丶}{}{EA8D}[Od] \yuhaochar{方}{}[Og] \yuhaocharsym{户}{戶,戸}{}[Oh] \yuhaochar{亥}{}[Oi] \yuhaochar{之}{}[Ok] \yuhaochar{亠}{}[Oo] \yuhaochar{辛}{}[Ox] & & 
    \centering\yuhaochar{麻}{}[Pa] \yuhaochar{文}{}[Pe]\yuhaochar{高}{}[Pg]\yuhaochar{亦}{}[Pi]\yuhaochar{衤}{}[Pk]\yuhaochar{米}{}[Pm]\yuhaochar{门}{}[Pn]\yuhaochar{辶}{}[Po]\yuhaochar{穴}{}[Pu] \\

    \cline{1, 3, 5, 7, 9, 11, 13, 15, 17, 19}
    \end{tblr}

    \vspace{5mm}

    \begin{tblr}{
        vlines,
        column{1, 3, 5, 7, 9, 11, 13, 15, 17}   = {m, wd= 111pt},
        column{2, 4, 6, 8, 10, 12, 14, 16}   = {m, wd= 0pt},
        row{1}         = {2em, abovesep=5pt,belowsep=0pt},
        row{2}       = {4em, abovesep=0pt,belowsep=0pt},
        % row{3}      = {3em, abovesep=0pt,belowsep=0pt},
        row{3}     = {7em, abovesep=0pt,belowsep=2pt},
        % cell{1-4}{1, 5} = {bg=xmred},
        cell{1-3}{1, 3, 5, 7, 9, 11} = {bg=xmgreen},
        cell{1-3}{13, 15, 17} = {bg=xmblue},
        % cell{1-4}{3} = {bg=xmyellow},
        % cell{1-4}{} = {bg=xmpurple},
    }
    \cline{1, 3, 5, 7, 9, 11, 13, 15, 17}

    \centering \sizeone A　　　过 & & 
    \centering \sizeone S　　　在 & & 
    \centering \sizeone D　　　不 & & 
    \centering \sizeone F　　　一 & & 
    \centering \sizeone G　　　大 & & 
    \centering \sizeone H　　　地 & & 
    \centering \sizeone J　　　是 & & 
    \centering \sizeone K　　　上 & & 
    \centering \sizeone L　　　中 \\

    \centering \yuhaocharsym{扌}{}{E971,E974}[Av]   & & 
    \centering \yuhaochar{艹}{卅,卌,廾}[Sv]   & & 
    \centering \yuhaochar{石}{丆}[Dv]   & & 
    \centering\yuhaochar{木}{朩}[Fv]   & & 
    \centering\yuhaochar{王}{}[Gv]   & & 
    \centering\yuhaochar{土}{耂}[Hv]   & & 
    \centering\yuhaochar{日}{}[Iv]   & & 
    \centering\yuhaochar{虫}{}[Jv]   & & 
    \centering\yuhaochar{口}{}[Kv] \\
    
    % A
    \centering \yuhaochar{寸}{}[Ac] \yuhaosym{E9AB}{}[Au] \yuhaochar{丁}{}[An] \yuhaochar{丅}{}[Ak] \yuhaochar{亍}{}[Ai] \yuhaocharsym{七}{}{E97A,E97B}[Ai] \yuhaochar{丌}{}[Aj] \yuhaochar{耳}{}[Ar] \yuhaochar{瓦}{}[Aw]  &&
 
    % S
    \centering \yuhaochar{犬}{}[Sa] \yuhaochar{臣}{}[Sc] \yuhaochar{而}{}[Se] \yuhaochar{厂}{}[Sh] \yuhaochar{辰}{}[Sn] \yuhaocharsym{丂}{}{EACB,EACC,EACD}[So] \yuhaocharsym{二}{冫}{EA55,EAB3}[Er] \yuhaosym{E9A0}{}[Su]  &&

    %D    
    \centering \yuhaochar{歹}{}[Dd] \yuhaochar{丰}{}[Df] \yuhaochar{古}{}[Dg] \yuhaochar{十}{}[Dh] \yuhaochar{未}{}[Di] \yuhaochar{走}{}[Dk] \yuhaochar{尤}{尢}[Do] \yuhaochar{其}{}[Dq] \yuhaocharsym{豕}{}{EA2B}[Ds] \yuhaochar{不}{}[Du] \yuhaochar{戊}{}[Dw] \yuhaochar{西}{}[Dx] \yuhaochar{酉}{}[Dj] \yuhaochar{雨}{}[Dy] &&
    
    %F
    \centering \yuhaochar{三}{}[Fa] \yuhaochar{一}{}[Fi] \yuhaochar{工}{}[Fo] \yuhaochar{甫}{}[Fu] &&

    %G
    \centering \yuhaochar{大}{}[Gd]  \yuhaochar{夫}{}[Gu] \yuhaosym{EABF}{}[Gn] \yuhaochar{革}{}[Ge] \yuhaochar{匚}{}[Gf] \yuhaochar{戈}{}[Gg] \yuhaochar{弋}{}[Gy] \yuhaochar{面}{}[Gi] &&

    %H
    \centering \yuhaochar{车}{}[He] \yuhaochar{干}{}[Hg] \yuhaochar{士}{}[Hh] \yuhaochar{世}{}[Hi] \yuhaochar{至}{}[Hk] \yuhaosym{E960}{}[Hn] \yuhaochar{末}{}[Ho] \yuhaochar{示}{}[Hs] \yuhaochar{兀}{}[Hw] \yuhaochar{牙}{}[Hy] &&
    
    %J
    \centering \yuhaochar{山}{}[Ja] \yuhaochar{曰}{}[Je] \yuhaochar{田}{}[Ji] \yuhaochar{早}{}[Jo] &&
    
   %K
   \centering \yuhaochar{甲}{}[Ka] \yuhaochar{申}{}[Ke] \yuhaocharsym{电}{}{E9CE}[Kd] \yuhaochar{由}{}[Ko] \yuhaochar{禺}{}[Ky] \yuhaocharsym{冂}{}{E9EA}[Kg] \yuhaochar{贝}{}[Kb] \yuhaochar{见}{}[Ki] \yuhaocharsym{上}{丄}{EA02}[Ks] \yuhaocharsym{水}{氺}{E916}[Kh] \yuhaochar{攴}{}[Ku] &&
    
    %L
    \centering \yuhaochar{非}{}[Li] \yuhaochar{㗊}{}[Lj]  \\
    
    \cline{1, 3, 5, 7, 9, 11, 13, 15, 17}
    \end{tblr}

    \vspace{5mm}

    \begin{tblr}{
        vlines,
        column{1, 3, 5, 7, 9, 11, 13, 15, 17, 19}   = {m, wd= 111pt},
        column{2, 4, 6, 8, 10, 12, 14, 16, 18}   = {m, wd= 0pt},
        row{1}         = {2em, abovesep=5pt,belowsep=0pt},
        row{2}       = {2em, abovesep=0pt,belowsep=0pt},
        % row{3}      = {3em, abovesep=0pt,belowsep=0pt},
        row{3}     = {7em, abovesep=0pt,belowsep=2pt},
        cell{1-3}{1} = {bg=xmgray},
        cell{1-3}{3, 5, 7, 9} = {bg=xmred},
        % cell{1-4}{} = {bg=xmgreen},
        cell{1-3}{11, 13} = {bg=xmblue},
        % cell{1-4}{7} = {bg=xmyellow},
        % cell{1-4}{1, 3} = {bg=xmpurple},
    }
    \cline{1, 3, 5, 7, 9, 11, 13, 15}

    \centering \sizeone Z　　　 & & 
    \centering \sizeone X　　　以 & & 
    \centering \sizeone C　　　也  & & 
    \centering \sizeone V　　　了 & & 
    \centering \sizeone B　　　那 & & 
    \centering \sizeone N　　　回 & & 
    \centering \sizeone M　　　小 \\

       & & 
    \centering\yuhaochar{彐}{}[Xv]   & & 
    \centering\yuhaochar{女}{}[Cv]   & & 
    \centering\yuhaochar{厶}{}[Vv]   & & 
    \centering\yuhaochar{糸}{}[Bv]   & & 
    \centering\yuhaocharsym{足}{}{EA05}[Nv]   & & 
    \centering\yuhaochar{目}{}[Mv] \\

    \centering\sizethree 特殊符号/反查 & & 
    \centering\yuhaochar{马}{}[Xa] \yuhaochar{屮}{凵丩}[Xc]\yuhaochar{爿}{}[Xg]\yuhaocharsym{乚}{}{E935,E937,E939,E93A}[Xi]\yuhaochar{卩}{}[Xj]\yuhaochar{力}{}[Xl]\yuhaochar{廴}{}[Xn]\yuhaochar{矛}{}[Xo]\yuhaocharsym{巳}{}{E95A}[Xs]\yuhaochar{羽}{习}[Xu]  & & 
    \centering\yuhaochar{巴}{}[Ca] \yuhaochar{也}{}[Ce]\yuhaochar{阝}{}[Cf]\yuhaocharsym{韋}{}{E94D}[Ci]\yuhaochar{予}{}[Cu]\yuhaochar{幺}{}[Co]  & & 
    \centering\yuhaocharsym{乃}{}{E912}[Va] \yuhaochar{了}{}[Ve] \yuhaochar{弓}{}[Vo] \yuhaocharsym{巛}{}{E93B}[Vh] \yuhaocharsym{乙}{}{E919,E91A,E91B,E91F}[Vi] \yuhaochar{艮}{}[Vn] \yuhaochar{皮}{}[Vp] \yuhaocharsym{纟}{}{E93C}[Vs] \yuhaochar{已}{}[Vy]   & & 
    \centering\yuhaochar{刀}{}[Ba] \yuhaochar{子}{}[Bi] \yuhaocharsym{己}{}{E957}[Bj] \yuhaocharsym{母}{}{E93D,E93E}[Bm] \yuhaocharsym{尸}{}{E94A}[Bs] \yuhaochar{又}{癶コスマ}[Bu] \yuhaosym{EAD1}{}{Bu} & & 
    \centering\yuhaochar{冊}{}[Nc] \yuhaochar{黑}{}[Ne] \yuhaochar{止}{}[Ni] \yuhaocharsym{尚}{}{E9D6,E9D7,E9D8}[Ns]  \yuhaochar{囗}{}[Nw] & & 
    \centering\yuhaocharsym{小}{⺌}{E9F1,E9F2}[Ma] \yuhaochar{刂}{}[Md] \yuhaochar{骨}{}[Mg] \yuhaocharsym{虎}{}{E9DB}[Mh] \yuhaochar{貝}{}[Mi] \yuhaochar{巾}{}[Mj] \yuhaochar{見}{}[Mk] \yuhaochar{皿}{}[Mn] \yuhaocharsym{卜}{}{E9D2,E9D3}[Mo] \yuhaocharsym{且}{}{E9F8}[Mq] \yuhaochar{丨}{}[Ms] \yuhaochar{罒}{}[Mw]\\

    \cline{1, 3, 5, 7, 9, 11, 13, 15}
    \end{tblr}

    \vspace{5mm}

    % {
        \fontsize{16pt}{16pt}\selectfont 
        % 字根打油诗〔朱宇浩2023年3月13日观字根图作〕 \\
        % \raggedright
        % 　横区：A 春上瓦右行，耳下打七寸。 S 草厂辰二犬， 烤冰而有臣。D 古來歹石尤其戊，西雨不走豕未丰。 F 一木甫三工。 G 大王革車夫，右框面酉戈。 H 老上青士示兀牙，末世土干至長车。\\
        % 　豎区：J 早日山曰田。 K 甲申由禺电，下框敲右边，水上虫贝见。 L 四口非口。 M 巾罒皿貝且具上，小目立刀卜虎骨。 N 方框二三豎，黑册尚止足。
    字根字输入方式：主要字根：大码 + 小码 + f。次要字根：大码 + 小码 + ff
    % }

\end{document}